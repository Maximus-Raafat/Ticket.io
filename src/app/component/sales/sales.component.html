<div class="arabic col-12 parent" style="box-sizing: border-box;">
<div class="seach-navbar -2">
    <div class=" d-flex justify-content-between align-items-center col-12">

        <div class="searchInput d-flex align-items-center">
            <p-button label="حجز تذكرة جديدة" ></p-button>
            <div class="inputSwitch d-flex">
            <label for="" >مفعلة</label>
            <p-inputSwitch [(ngModel)]="checked" class="ng-dirty ng-invalid" ></p-inputSwitch>
           </div>
        </div>

        <div class="reservationTicket d-flex align-items-center">
            <div class="button-container" >
                <!-- Sort Button -->
                <button pButton icon="pi pi-sort-alt" class="p-button-rounded p-button-outlined" (click)="toggleSort()"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.03316 4.97998C9.15983 4.97998 9.28651 4.93333 9.38651 4.83333L11.5132 2.70667L13.6399 4.83333C13.8332 5.02667 14.1532 5.02667 14.3465 4.83333C14.5398 4.64 14.5398 4.32 14.3465 4.12667L11.8665 1.64665C11.7732 1.55331 11.6465 1.5 11.5132 1.5C11.3798 1.5 11.2532 1.55331 11.1598 1.64665L8.67985 4.12667C8.48652 4.32 8.48652 4.64 8.67985 4.83333C8.77985 4.93333 8.9065 4.97998 9.03316 4.97998Z" fill="#8B8B8B"/>
                    <path d="M11.5134 14.5C11.7867 14.5 12.0134 14.2733 12.0134 14V2C12.0134 1.72667 11.7867 1.5 11.5134 1.5C11.24 1.5 11.0134 1.72667 11.0134 2V14C11.0134 14.2733 11.24 14.5 11.5134 14.5Z" fill="#8B8B8B"/>
                    <path d="M4.47998 14.5C4.61331 14.5 4.74 14.4467 4.83333 14.3533L7.31331 11.8733C7.50665 11.68 7.50665 11.36 7.31331 11.1666C7.11998 10.9733 6.79998 10.9733 6.60665 11.1666L4.47998 13.2933L2.35335 11.1666C2.16002 10.9733 1.83998 10.9733 1.64665 11.1666C1.45331 11.36 1.45331 11.68 1.64665 11.8733L4.12667 14.3533C4.22 14.4467 4.35331 14.5 4.47998 14.5Z" fill="#8B8B8B"/>
                    <path d="M4.48663 14.5C4.75997 14.5 4.98663 14.2733 4.98663 14V2C4.98663 1.72667 4.75997 1.5 4.48663 1.5C4.2133 1.5 3.98663 1.72667 3.98663 2V14C3.98663 14.2733 4.20663 14.5 4.48663 14.5Z" fill="#8B8B8B"/>
                    </svg>
                    </button>
              
                    <!-- Filter Button -->
                    <button pButton icon="pi pi-sliders-h" class="p-button-rounded p-button-outlined" (click)="showFilterDialog()"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.6667 4.83334H10.6667C10.3934 4.83334 10.1667 4.60668 10.1667 4.33334C10.1667 4.06001 10.3934 3.83334 10.6667 3.83334H14.6667C14.94 3.83334 15.1667 4.06001 15.1667 4.33334C15.1667 4.60668 14.94 4.83334 14.6667 4.83334Z" fill="#8B8B8B"/>
                    <path d="M3.99998 4.83334H1.33331C1.05998 4.83334 0.833313 4.60668 0.833313 4.33334C0.833313 4.06001 1.05998 3.83334 1.33331 3.83334H3.99998C4.27331 3.83334 4.49998 4.06001 4.49998 4.33334C4.49998 4.60668 4.27331 4.83334 3.99998 4.83334Z" fill="#8B8B8B"/>
                    <path d="M6.66665 7.16667C5.10665 7.16667 3.83331 5.89333 3.83331 4.33333C3.83331 2.77333 5.10665 1.5 6.66665 1.5C8.22665 1.5 9.49998 2.77333 9.49998 4.33333C9.49998 5.89333 8.22665 7.16667 6.66665 7.16667ZM6.66665 2.5C5.65331 2.5 4.83331 3.32 4.83331 4.33333C4.83331 5.34667 5.65331 6.16667 6.66665 6.16667C7.67998 6.16667 8.49998 5.34667 8.49998 4.33333C8.49998 3.32 7.67998 2.5 6.66665 2.5Z" fill="#8B8B8B"/>
                    <path d="M14.6667 12.1667H12C11.7267 12.1667 11.5 11.94 11.5 11.6667C11.5 11.3933 11.7267 11.1667 12 11.1667H14.6667C14.94 11.1667 15.1667 11.3933 15.1667 11.6667C15.1667 11.94 14.94 12.1667 14.6667 12.1667Z" fill="#8B8B8B"/>
                    <path d="M5.33331 12.1667H1.33331C1.05998 12.1667 0.833313 11.94 0.833313 11.6667C0.833313 11.3933 1.05998 11.1667 1.33331 11.1667H5.33331C5.60665 11.1667 5.83331 11.3933 5.83331 11.6667C5.83331 11.94 5.60665 12.1667 5.33331 12.1667Z" fill="#8B8B8B"/>
                    <path d="M9.33333 14.5C7.77333 14.5 6.5 13.2267 6.5 11.6667C6.5 10.1067 7.77333 8.83334 9.33333 8.83334C10.8933 8.83334 12.1667 10.1067 12.1667 11.6667C12.1667 13.2267 10.8933 14.5 9.33333 14.5ZM9.33333 9.83334C8.32 9.83334 7.5 10.6533 7.5 11.6667C7.5 12.68 8.32 13.5 9.33333 13.5C10.3467 13.5 11.1667 12.68 11.1667 11.6667C11.1667 10.6533 10.3467 9.83334 9.33333 9.83334Z" fill="#8B8B8B"/>
                </svg>
            </button>
        </div>
        <!-- Filter Dialog -->
        <p-dialog header="Advanced Filters" [(visible)]="filterDialog" [modal]="true" [closable]="false">
                <!-- Add filter options here -->
                <p>Filter options go here...</p>
                <p-footer>
                    <button pButton label="Apply" icon="pi pi-check" (click)="applyFilters()"></button>
                    <button pButton label="Cancel" (click)="filterDialog=false"></button>
                </p-footer>
            </p-dialog>
            <div class="autocomplete-wrapper">
                <p-autoComplete 
                [(ngModel)]="searchQuery" 
                [suggestions]="suggestions" 
                [placeholder]="'بحث عن ...'"
                (completeMethod)="search($event)"
                (keydown.enter)="performSearch()"
                field="user.name" 
                [inputStyle]="{ 'padding-right': '30px', 'width': '227px', 'border-radius': '5px' }">
              </p-autoComplete>
            
            <svg class="search-icon" width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.91665 14.5C4.14998 14.5 1.08331 11.4333 1.08331 7.66668C1.08331 3.90001 4.14998 0.833344 7.91665 0.833344C11.6833 0.833344 14.75 3.90001 14.75 7.66668C14.75 11.4333 11.6833 14.5 7.91665 14.5ZM7.91665 1.83334C4.69665 1.83334 2.08331 4.45334 2.08331 7.66668C2.08331 10.88 4.69665 13.5 7.91665 13.5C11.1366 13.5 13.75 10.88 13.75 7.66668C13.75 4.45334 11.1366 1.83334 7.91665 1.83334Z" fill="#292D32"/>
                <path d="M14.9167 15.1667C14.79 15.1667 14.6634 15.12 14.5634 15.02L13.23 13.6867C13.0367 13.4934 13.0367 13.1734 13.23 12.98C13.4234 12.7867 13.7434 12.7867 13.9367 12.98L15.27 14.3134C15.4634 14.5067 15.4634 14.8267 15.27 15.02C15.17 15.12 15.0434 15.1667 14.9167 15.1667Z" fill="#292D32"/>
            </svg>
        </div>
        
        <div class="mx-3 d-flex align-items-center">
            <p >مبيعات التذاكر</p>
        </div>
    </div>
    </div>

    <div class="card table mt-2">
        <p-table
            [value]="filteredCustomersData"
            [paginator]="true"
            [rows]="4"
            [first]="first"
            [rowsPerPageOptions]="[4,10, 25, 50]"
            (onPage)="pageChange($event)"
            [tableStyle]="{ 'min-width': '50rem' }"
        >
            <ng-template pTemplate="header">
                <tr [style]="{'font-family': 'Neo Sans Arabic','color':'#9C9D9F','font-size':'15px','font-weight':'400'}" >
                    <th class="text-center" >التذكرة</th>
                    <th>عدد مرات الشراء</th>
                    <th>عدد الاشخاص</th>
                    <th class="text-center">السينمات</th>
                    <th class="text-start">
                        <button pButton style="background-color: transparent;border: none;" (click)="toggleSort()"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9.03316 4.97998C9.15983 4.97998 9.28651 4.93333 9.38651 4.83333L11.5132 2.70667L13.6399 4.83333C13.8332 5.02667 14.1532 5.02667 14.3465 4.83333C14.5398 4.64 14.5398 4.32 14.3465 4.12667L11.8665 1.64665C11.7732 1.55331 11.6465 1.5 11.5132 1.5C11.3798 1.5 11.2532 1.55331 11.1598 1.64665L8.67985 4.12667C8.48652 4.32 8.48652 4.64 8.67985 4.83333C8.77985 4.93333 8.9065 4.97998 9.03316 4.97998Z" fill="#8B8B8B"/>
                        <path d="M11.5134 14.5C11.7867 14.5 12.0134 14.2733 12.0134 14V2C12.0134 1.72667 11.7867 1.5 11.5134 1.5C11.24 1.5 11.0134 1.72667 11.0134 2V14C11.0134 14.2733 11.24 14.5 11.5134 14.5Z" fill="#8B8B8B"/>
                        <path d="M4.47998 14.5C4.61331 14.5 4.74 14.4467 4.83333 14.3533L7.31331 11.8733C7.50665 11.68 7.50665 11.36 7.31331 11.1666C7.11998 10.9733 6.79998 10.9733 6.60665 11.1666L4.47998 13.2933L2.35335 11.1666C2.16002 10.9733 1.83998 10.9733 1.64665 11.1666C1.45331 11.36 1.45331 11.68 1.64665 11.8733L4.12667 14.3533C4.22 14.4467 4.35331 14.5 4.47998 14.5Z" fill="#8B8B8B"/>
                        <path d="M4.48663 14.5C4.75997 14.5 4.98663 14.2733 4.98663 14V2C4.98663 1.72667 4.75997 1.5 4.48663 1.5C4.2133 1.5 3.98663 1.72667 3.98663 2V14C3.98663 14.2733 4.20663 14.5 4.48663 14.5Z" fill="#8B8B8B"/>
                        </svg>
                        </button>قيمي التذكرة
                    </th>
                    <th>رقم التذكرة</th>
                    <th>المستخدم</th>
                    <th>#</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-customer let-i="rowIndex">
                <tr class="text-end">
                    
                    <td>
                        <svg style="cursor:pointer" (click)="downloadTicket(customer.ticket)" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.0666 17.3332H6.26663C2.26663 17.3332 0.666626 15.7332 0.666626 11.7332V6.93319C0.666626 2.93319 2.26663 1.33319 6.26663 1.33319H11.0666C15.0666 1.33319 16.6666 2.93319 16.6666 6.93319V11.7332C16.6666 15.7332 15.0666 17.3332 11.0666 17.3332Z" stroke="#8A74F9" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10.8333 9.25799L8.33325 11.758L5.83325 9.25799M8.33325 11.758V5.09132M13.3333 13.4247C10.0916 14.508 6.57492 14.508 3.33325 13.4247" stroke="#8A74F9" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>    
                        {{ customer.ticket }}
                        <svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg" >
                            <rect x="0.333374" y="0.833168" width="31.6667" height="31.6667" rx="7.91667" fill="#8A74F9" fill-opacity="0.1"/>
                            <path d="M19.4104 12.2665C19.4104 12.2728 19.4104 12.2728 19.4104 12.279C19.2542 12.2728 19.0979 12.2665 18.9292 12.2665H14.1167L14.7854 11.604C15.3979 10.9853 16.0729 10.4165 16.8542 10.4165C17.6417 10.4165 18.3167 10.9853 18.9292 11.604L19.2792 11.954C19.3667 12.0353 19.4104 12.1478 19.4104 12.2665Z" fill="#8A74F9"/>
                            <path d="M21.6917 17.3978C21.9355 17.3978 22.1292 17.1978 22.1292 16.9478V16.3977C22.1292 13.9415 21.3792 13.1978 18.9292 13.1978H14.9917H13.4042C10.9542 13.1978 10.2042 13.9477 10.2042 16.3977V16.6665C10.2042 16.9165 10.398 17.1103 10.6417 17.1103C11.1667 17.1103 11.5855 17.5353 11.5855 18.054C11.5855 18.5728 11.1667 19.004 10.6417 19.004C10.398 19.004 10.2042 19.1978 10.2042 19.4478V19.7165C10.2042 22.1727 10.9542 22.9165 13.4042 22.9165H14.9855H18.923C21.373 22.9165 22.123 22.1665 22.123 19.7165C22.123 19.4727 21.9292 19.2728 21.6855 19.2728C21.1605 19.2728 20.7417 18.854 20.7417 18.3353C20.748 17.8165 21.1667 17.3978 21.6917 17.3978ZM15.4292 20.954C15.4292 21.1978 15.2292 21.3977 14.9855 21.3977C14.7417 21.3977 14.5417 21.1978 14.5417 20.954V19.279C14.5417 19.0353 14.7417 18.8353 14.9855 18.8353C15.2292 18.8353 15.4292 19.0353 15.4292 19.279V20.954ZM15.4292 16.8353C15.4292 17.079 15.2292 17.279 14.9855 17.279C14.7417 17.279 14.5417 17.079 14.5417 16.8353V15.1603C14.5417 14.9165 14.7417 14.7165 14.9855 14.7165C15.2292 14.7165 15.4292 14.9165 15.4292 15.1603V16.8353Z" fill="#8A74F9"/>
                        </svg>
                                           
                    </td>
                    <td>{{ customer.numberOfPurchases }}</td>
                    <td>{{ customer.numberOfPeople }}</td>
                    <td>{{ customer.cinemas }}</td>
                    <td >{{ customer.ticketPrice }}</td>
                    <td>{{ customer.ticketNumber }}</td>
                    <td>
                        {{ customer.user.name }} <br> {{ customer.user.number }}
                        <img style="position: relative; top:-10px; width:30px;height: 30px;border-radius: 15px;" src="https://images.pexels.com/photos/3680219/pexels-photo-3680219.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="e">
                    </td>
                    <td>
                        {{ i + 1 }}
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

</div>